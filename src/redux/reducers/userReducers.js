const initialState = {
  questions: {
    questions: [
      {
        question_id: 72,
        total_correct_answers: "0",
        total_answers: "0",
        total_likes: "1",
        total_dislikes: "0",
        is_followed: "0",
        is_interested: "0",
        is_disliked: "0",
        is_liked: "0",
        title: "",
        description:
          '<p><br></p>\n<figure><img src="https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1632&amp;q=80" height="auto" width="auto"/></figure>\n<p>Web development is the work involved in developing a <a href="https://en.wikipedia.org/wiki/Web_site" title="Web site">Web site</a> for the <a href="https://en.wikipedia.org/wiki/Internet" title="Internet">Internet</a> (<a href="https://en.wikipedia.org/wiki/World_Wide_Web" title="World Wide Web">World Wide Web</a>) or an <a href="https://en.wikipedia.org/wiki/Intranet" title="intranet">intranet</a> (a private network).<a href="https://en.wikipedia.org/wiki/Web_development#cite_note-1" title="[1]">[1]</a> Web development can range from developing a simple single <a href="https://en.wikipedia.org/wiki/Static_Web_page" title="static page">static page</a> of <a href="https://en.wikipedia.org/wiki/Plain_text" title="plain text">plain text</a> to complex <a href="https://en.wikipedia.org/wiki/Web_application" title="web applications">web applications</a>, <a href="https://en.wikipedia.org/wiki/Electronic_business" title="electronic businesses">electronic businesses</a>, and <a href="https://en.wikipedia.org/wiki/Social_network_service" title="social network services">social network services</a>. A more comprehensive list of tasks to which Web development commonly refers, may include <a href="https://en.wikipedia.org/wiki/Web_engineering" title="Web engineering">Web engineering</a>, <a href="https://en.wikipedia.org/wiki/Web_design" title="Web design">Web design</a>, <a href="https://en.wikipedia.org/wiki/Web_content_development" title="Web content development">Web content development</a>, client liaison, <a href="https://en.wikipedia.org/wiki/Client-side_scripting" title="client-side">client-side</a>/<a href="https://en.wikipedia.org/wiki/Server-side_scripting" title="server-side scripting">server-side scripting</a>, <a href="https://en.wikipedia.org/wiki/Web_server" title="Web server">Web server</a> and <a href="https://en.wikipedia.org/wiki/Network_security" title="network security">network security</a> configuration, and <a href="https://en.wikipedia.org/wiki/E-commerce" title="e-commerce">e-commerce</a> development.</p>\n<p>Among Web professionals, "Web development" usually refers to the main non-design aspects of building Web sites: writing <a href="https://en.wikipedia.org/wiki/Markup_language" title="markup">markup</a> and <a href="https://en.wikipedia.org/wiki/Computer_programming" title="coding">coding</a>.<a href="https://en.wikipedia.org/wiki/Web_development#cite_note-2" title="[2]">[2]</a> Web development may use <a href="https://en.wikipedia.org/wiki/Content_management_system" title="content management systems">content management systems</a> (CMS) to make content changes easier and available with basic technical skills.</p>\n<p>For larger organizations and businesses, Web development teams can consist of hundreds of people (<a href="https://en.wikipedia.org/wiki/Web_developer" title="Web developers">Web developers</a>) and follow standard methods like <a href="https://en.wikipedia.org/wiki/Agile_software_development" title="Agile methodologies">Agile methodologies</a> while developing Web sites. Smaller organizations may only require a single permanent or contracting developer, or secondary assignment to related job positions such as a <a href="https://en.wikipedia.org/wiki/Graphic_designer" title="graphic designer">graphic designer</a> or <a href="https://en.wikipedia.org/wiki/Information_systems" title="information systems">information systems</a> technician. Web development may be a collaborative effort between departments rather than the domain of a designated department. There are three kinds of Web developer specialization: <a href="https://en.wikipedia.org/wiki/Front-end_Web_development" title="front-end developer">front-end developer</a>, back-end developer, and <a href="https://en.wikipedia.org/wiki/Full-stack_developer" title="full-stack developer">full-stack developer</a>. Front-end developers are responsible for behavior and visuals that run in the user browser, while back-end developers deal with the servers.</p>',
        src: null,
        category: "asdasddsa",
        speciality: "asdfadsf sdfgdfg",
        branch: "ddd ds",
        publish_at: "2021-10-16T22:08:50.640Z",
        fullname: "Ismail Hocine",
        domain: "Softwere Web Developer",
        avatar:
          "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
        user_id: 94,
      },
      {
        question_id: 70,
        total_correct_answers: "1",
        total_answers: "2",
        total_likes: "2",
        total_dislikes: "0",
        is_followed: "0",
        is_interested: "0",
        is_disliked: "0",
        is_liked: "0",
        title: "Create Create Create",
        description: "<h3>Create Create Create Create</h3>",
        src: null,
        category: "bnmnb",
        speciality: "asdfadsf sdfgdfg",
        branch: "ddd ds",
        publish_at: "2021-10-16T21:40:25.906Z",
        fullname: "Create",
        domain: "Softwere Web Developer",
        avatar:
          "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
        user_id: 94,
      },
      {
        question_id: 69,
        total_correct_answers: "0",
        total_answers: "0",
        total_likes: "0",
        total_dislikes: "2",
        is_followed: "0",
        is_interested: "0",
        is_disliked: "0",
        is_liked: "0",
        title: "Create",
        description: "<p>Create</p>",
        src: null,
        category: "bnmnb",
        speciality: "asdfadsf sdfgdfg",
        branch: "ddd ds",
        publish_at: "2021-10-16T21:39:33.194Z",
        fullname: "Create",
        domain: null,
        avatar:
          "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
        user_id: 94,
      },
      {
        question_id: 68,
        total_correct_answers: "0",
        total_answers: "0",
        total_likes: "2",
        total_dislikes: "0",
        is_followed: "0",
        is_interested: "0",
        is_disliked: "0",
        is_liked: "0",
        title: "Create",
        description: "<p>Create</p>",
        src: null,
        category: "bnmnb",
        speciality: "asdfadsf sdfgdfg",
        branch: "ddd ds",
        publish_at: "2021-10-16T21:37:37.416Z",
        fullname: "Create",
        domain: null,
        avatar:
          "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
        user_id: 94,
      },
    ],
    page: 0,
    loading: false,
    hasMore: false,
  },
  answers: {
    answers: null,
    page: 0,
    loading: true,
    hasMore: true,
  },
  account: {
    email: "",
    fullname: "",
    domain: "",
    avatar: null,
    cover: null,
    error: {
      status: false,
      errors: "",
    },
    loading: false,
  },
  user: {
    fullname: "Ismail Hocine",
    avatar:
      "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
    cover:
      "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1470&q=80",
    domain: "Softwere Web Developer",
    error: {
      status: false,
      errors: [],
    },
    loading: false,
    is_followed: false,
  },
  // rows_per_page: 5
};

export default function userRedcuers(state = initialState, action) {
  switch (action.type) {
    case "FETCH_QUESTIONS_BY_USER":
      return {
        ...state,
        questions: {
          questions:
            action.payload.page === 0
              ? action.payload.questions
              : state.questions.questions.concat(action.payload.questions),
          page: action.payload.page,
          loading: false,
          hasMore: action.payload.hasMore,
        },
      };
    case "FETCH_ANSWERS_BY_USER":
      return {
        ...state,
        answers: {
          answers:
            action.payload.page === 0
              ? action.payload.answers
              : state.answers.answers.concat(action.payload.answers),
          page: action.payload.page,
          loading: false,
          hasMore: action.payload.hasMore,
        },
      };
    case "UPDATE_ACCOUNT":
      return {
        ...state,
        account: {
          ...state.account,
          email: action.payload.email,
          fullname: action.payload.fullname,
          domain: action.payload.domain,
          loading: false,
        },
      };
    case "UPDATE_ACCOUNT_ERROR":
      return {
        ...state,
        account: {
          ...state.account,
          loading: false,
          error: {
            status: true,
            errors: action.payload,
          },
        },
      };
    case "FETCH_MY_ACCOUNT":
      return {
        ...state,
        account: {
          ...state.account,
          email: action.payload.email,
          fullname: action.payload.fullname,
          domain: action.payload.domain,
          avatar: action.payload.avatar,
          cover: action.payload.cover,
          loading: false,
          error: {
            status: false,
            errors: [],
          },
        },
      };
    case "NEW_REQUEST_INFORMATIONS":
      return {
        ...state,
        account: {
          ...state.account,
          error: {
            status: false,
            errors: [],
          },
          loading: true,
        },
      };
    case "FETCH_USER":
      return {
        ...state,
        user: {
          ...state.user,
          fullname: action.payload.fullname,
          domain: action.payload.domain,
          avatar: action.payload.avatar,
          cover: action.payload.cover,
          is_followed: action.payload.is_followed,
          loading: false,
          error: {
            status: false,
            errors: [],
          },
        },
      };
    case "PRE_UNFOLLOW_USER":
      return {
        ...state,
        user: {
          ...state.user,
          is_followed: false,
        },
      };
    case "PRE_FOLLOW_USER":
      return {
        ...state,
        user: {
          ...state.user,
          is_followed: true,
        },
      };
    case "ERROR_UNFOLLOW_USER":
      return {
        ...state,
        user: {
          ...state.user,
          is_followed: true,
        },
      };
    case "ERROR_FOLLOW_USER":
      return {
        ...state,
        user: {
          ...state.user,
          is_followed: false,
        },
      };
    case "UPDATE_COVER":
      return {
        ...state,
        user: {
          ...state.user,
          cover: action.payload.cover,
          loading: false,
        },
      };
    case "UPDATE_COVER_ERROR":
      return {
        ...state,
        user: {
          ...state.user,
          cover: action.payload.oldcover,
        },
      };
    case "UPDATE_AVATAR":
      return {
        ...state,
        user: {
          ...state.user,
          avatar: action.payload.avatar,
          loading: false,
        },
      };
    case "UPDATE_AVATAR_ERROR":
      return {
        ...state,
        user: {
          ...state.account,
          avatar: action.payload.avatar,
          loading: false,
        },
      };
    case "POST_LIKE_QUESTION":
      return {
        ...state,
        questions: {
          ...state.questions,
          questions: (state.questions.questions || []).map((item, index) => {
            if (item.question_id === action.payload.question_id) {
              item.total_likes = Number(item.total_likes) + 1;
              item.is_liked = "1";
            }
            return item;
          }),
        },
      };
    case "REMOVE_LIKE_QUESTION":
      return {
        ...state,
        questions: {
          ...state.questions,
          questions: (state.questions.questions || []).map((item, index) => {
            if (item.question_id === action.payload.question_id) {
              item.total_likes = Number(item.total_likes) - 1;
              item.is_liked = "0";
            }
            return item;
          }),
        },
      };
    case "POST_DISLIKE_QUESTION":
      return {
        ...state,
        questions: {
          ...state.questions,
          questions: (state.questions.questions || []).map((item, index) => {
            if (item.question_id === action.payload.question_id) {
              item.total_dislikes = Number(item.total_dislikes) + 1;
              item.is_disliked = "1";
            }
            return item;
          }),
        },
      };
    case "REMOVE_DISLIKE_QUESTION":
      return {
        ...state,
        questions: {
          ...state.questions,
          questions: (state.questions.questions || []).map((item, index) => {
            if (item.question_id === action.payload.question_id) {
              item.total_dislikes = Number(item.total_dislikes) - 1;
              item.is_disliked = "0";
            }
            return item;
          }),
        },
      };
    default:
      return state;
  }
}
